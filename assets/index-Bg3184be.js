import{j as e,r as m}from"./react-DjP-d2Kn.js";import{c as b}from"./react-dom-BzDTOCyM.js";import{B as S}from"./react-router-dom-CsnMcxgQ.js";import{u as w,a as k,b as v}from"./react-router-71cWkEkF.js";import{M as L}from"./react-markdown-Ee4uceSq.js";import{r as E}from"./remark-gfm-4ekA7jr-.js";import{a as C}from"./@supabase-B7ILu-Qf.js";import{E as y}from"./@uiw-DWxQEg95.js";import"./scheduler-CzFDRTuY.js";import"./@remix-run-Cz6oGz3K.js";import"./devlop-Cl3hj7Sz.js";import"./unified-Bh6SODEi.js";import"./bail-FqpXQuLt.js";import"./extend-B4u3GNXz.js";import"./is-plain-obj-C1gvLhAf.js";import"./trough-B_b8ryxu.js";import"./vfile-tbz-BywF.js";import"./vfile-message-Bq256rVA.js";import"./unist-util-stringify-position-Ch_qCilz.js";import"./remark-parse-PFb__MD6.js";import"./mdast-util-from-markdown-BvD3T9Wt.js";import"./micromark-util-decode-numeric-character-reference-CNs1qBpV.js";import"./micromark-util-decode-string-strjl-tx.js";import"./decode-named-character-reference-C3-224fz.js";import"./micromark-util-normalize-identifier-C9ANKk3v.js";import"./micromark-Cp9IgYwT.js";import"./micromark-util-combine-extensions-Bka6Sc1c.js";import"./micromark-util-chunked-DrRIdSP-.js";import"./micromark-factory-space-Bzki161k.js";import"./micromark-util-character-Cn8n62xE.js";import"./micromark-core-commonmark-D5SA4aCp.js";import"./micromark-util-classify-character-72LGz2mN.js";import"./micromark-util-resolve-all-PQCKh0dx.js";import"./micromark-util-subtokenize-BcSgYDy4.js";import"./micromark-factory-destination-Dhx6mInV.js";import"./micromark-factory-label-Dm2aTycn.js";import"./micromark-factory-title-B-Q3zsGF.js";import"./micromark-factory-whitespace-DxqLJ6OX.js";import"./micromark-util-html-tag-name-DbKNfynz.js";import"./mdast-util-to-string-C_aolqmU.js";import"./remark-rehype-DS8T2rKB.js";import"./mdast-util-to-hast-TeA10Bzh.js";import"./@ungap-DDJC10qW.js";import"./micromark-util-sanitize-uri-B1mpwOqX.js";import"./unist-util-position-60F3QETU.js";import"./trim-lines-D8znQY54.js";import"./unist-util-visit-Dza3JKCM.js";import"./unist-util-visit-parents-CUezI4aM.js";import"./unist-util-is-D9KQvrmg.js";import"./hast-util-to-jsx-runtime-DBe2wROu.js";import"./comma-separated-tokens-CRUGqg4f.js";import"./property-information-DdDptki-.js";import"./space-separated-tokens-D7QSIrTI.js";import"./style-to-object-CDRpiV6S.js";import"./inline-style-parser-D--Rb2MU.js";import"./hast-util-whitespace-D4Wp6AEg.js";import"./estree-util-is-identifier-name-BgBfM8ME.js";import"./html-url-attributes-D46m5wfe.js";import"./micromark-extension-gfm-DKDoHsnq.js";import"./micromark-extension-gfm-autolink-literal-DLPcB62U.js";import"./micromark-extension-gfm-footnote-CfuxHbgG.js";import"./micromark-extension-gfm-strikethrough-DRvqaQ9w.js";import"./micromark-extension-gfm-table-DL38QGqH.js";import"./micromark-extension-gfm-task-list-item-CQ-9H0He.js";import"./mdast-util-gfm-CCSOssON.js";import"./mdast-util-gfm-autolink-literal-DVoQNrEq.js";import"./ccount-c2V3InAJ.js";import"./mdast-util-find-and-replace-ClOhUni4.js";import"./mdast-util-gfm-footnote-DDcgsGKB.js";import"./mdast-util-gfm-strikethrough-Cj9qKt6Q.js";import"./mdast-util-gfm-table-BeqiJWAu.js";import"./markdown-table-De3aUdCo.js";import"./mdast-util-to-markdown-WMgsuVuk.js";import"./longest-streak-CtXnX3Xp.js";import"./mdast-util-phrasing-C4Vf_nAi.js";import"./mdast-util-gfm-task-list-item-uzdc72H5.js";import"./@babel-CsOo6dn6.js";import"./rehype-prism-plus-IXTh5AKs.js";import"./parse-numeric-range-B24EjIMb.js";import"./refractor-PXPlyyR5.js";import"./parse-entities-awjbXd53.js";import"./character-entities-legacy-BpoLgcEt.js";import"./character-reference-invalid-ClcxO6OC.js";import"./is-decimal-CJ0gF_dh.js";import"./is-hexadecimal-BKo14zVu.js";import"./is-alphanumerical-58alR0B7.js";import"./is-alphabetical-jPfmTawd.js";import"./hast-util-to-string-CAVF9NB8.js";import"./unist-util-filter-BKLU6SLj.js";import"./rehype-rewrite-C1U0Chgz.js";import"./hast-util-select-CLuF0LnQ.js";import"./css-selector-parser-Cd0xVW56.js";import"./direction-BFWvkRq0.js";import"./bcp-47-match-Cq88Dg_3.js";import"./nth-check-D-N-8uwy.js";import"./boolbase-B_pTSxcg.js";import"./zwitch-C2o2j-tx.js";import"./hast-util-has-property-BRFdt-Gn.js";import"./rehype-attr-DQypyM3o.js";import"./remark-github-blockquote-alert-BPNPy1M2.js";import"./rehype-raw-DsQRkV5A.js";import"./hast-util-raw-Dw84nQ1a.js";import"./html-void-elements-CkdplsNl.js";import"./parse5-MFi38X96.js";import"./entities-CCBHeVIA.js";import"./web-namespaces-bsVAaBS1.js";import"./hast-util-from-parse5-C4P5oWRl.js";import"./hastscript-B1wTFI9-.js";import"./hast-util-parse-selector-TXfch5wI.js";import"./vfile-location-LfEFwJ2h.js";import"./hast-util-to-parse5-Dh3k-d6k.js";import"./rehype-ignore-BY2CbMVx.js";import"./rehype-slug-aUApxI8e.js";import"./github-slugger-CQ4oX9Ud.js";import"./hast-util-heading-rank-2b08BCqQ.js";import"./rehype-autolink-headings-DFRVm0Rg.js";import"./hast-util-is-element-DyH4pHXM.js";import"./rehype-Dsk03L4-.js";import"./rehype-parse-DEOX9LFP.js";import"./hast-util-from-html-D9cJqe8J.js";import"./rehype-stringify-CYxlCuWR.js";import"./hast-util-to-html-CfflqniA.js";import"./stringify-entities-CnbJBXhi.js";import"./character-entities-html4-D7taRCQ7.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function o(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(t){if(t.ep)return;t.ep=!0;const s=o(t);fetch(t.href,s)}})();function g({currentSession:n,logout:r}){const o=w();return e.jsx("div",{className:"flex justify-center w-full",children:e.jsx("div",{className:"flex justify-center items-center w-full",children:e.jsxs("div",{className:"flex justify-between items-center w-4/5 sm:w-2/3 h-14 lg:h-18 py-10",children:[e.jsx("img",{src:"/Primary Logo on Light BG.svg",className:"w-[10%] hover:cursor-pointer hidden lg:flex",onClick:()=>o("/")}),e.jsx("img",{src:"/symbolic mark.svg",className:"w-1/6 md:w-[10%] hover:cursor-pointer lg:hidden",onClick:()=>o("/")}),e.jsxs("div",{className:"flex",children:[e.jsx("p",{className:"text-md font-medium hover:cursor-pointer",onClick:()=>o("/"),children:"Release Notes"}),n&&e.jsx("p",{className:"text-md font-medium ml-10 hover:cursor-pointer",onClick:()=>o("/update"),children:"Upload"})]}),n?e.jsx("p",{className:"w-[10%] text-right text-md font-medium hover:cursor-pointer",onClick:r,children:"Log Out"}):e.jsx("p",{className:"md:w-[10%] text-right text-md font-medium hover:cursor-pointer hidden md:flex",onClick:()=>o("/authentication"),children:"Log In"})]})})})}function R({clickedRelease:n,releaseData:r}){let o;for(let i=0;i<r.length;i++)r[i].id==n&&(o=i);return e.jsx("div",{className:"fade-in prose prose-p:leading-tight prose-headings:leading-none prose-h1:mb-0 prose-headings:font-semibold mt-3",children:e.jsx(L,{remarkPlugins:[E],children:r[o].markdown})})}function _({currentSession:n,logout:r,releaseData:o}){if(o){const[i,t]=m.useState([]),s=o.map(l=>e.jsxs("div",{children:[e.jsxs("div",{className:"dropdown",children:[!i.includes(l.id)&&e.jsx("img",{src:"/arrow_right.svg",onClick:()=>t(a=>[...a,l.id])}),i.includes(l.id)&&e.jsx("img",{src:"/arrow_down.svg",onClick:()=>t(a=>a.splice(a.indexOf(l.id)),1)}),e.jsx("h4",{children:l.date})]}),e.jsx("div",{children:i.includes(l.id)&&e.jsx(R,{clickedRelease:l.id,releaseData:o})}),e.jsx("div",{className:"divider"})]},l.id));return e.jsxs("div",{children:[e.jsx(g,{currentSession:n,logout:r}),e.jsxs("div",{className:"fade-in",children:[e.jsx("div",{class:"bg-white py-10 mb-8 sm:py-10 lg:px-6",children:e.jsxs("div",{class:"mx-auto max-w-2xl text-center w-[90%] lg:w-2/3",children:[e.jsx("h1",{class:"lg:mt-2 text-4xl font-bold tracking-tight text-gray-900 md:text-6xl bg-gradient-to-r from-cornell to-midblue inline-block text-transparent bg-clip-text",children:"Release Notes"}),e.jsx("p",{class:"mt-6 text-md md:text-lg leading-8 text-gray-600",children:"Stay updated with the latest features, improvements, and bug fixes in the Anove app. Here, youâ€™ll find detailed information on recent updates."})]})}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"w-[90%] lg:w-2/3",children:[e.jsx("h2",{className:"text-2xl font-medium",children:"Latest Release Notes"}),e.jsx("p",{children:"Here you can find the release notes for the most recent Anove version."}),e.jsx("div",{className:"divider"}),s]})})]})]})}else return e.jsxs("div",{children:[e.jsx(g,{currentSession:n,logout:r}),e.jsx("div",{className:"flex justify-center",children:e.jsx("h1",{className:"text-xl",children:"Loading release notes..."})})]})}var N={};const P=N.NEXT_PUBLIC_SUPABASE_URL,A=N.NEXT_PUBLIC_SUPABASE_KEY,x=C(P,A);function O({currentSession:n,logout:r}){const o=w(),[i,t]=m.useState(""),[s,l]=m.useState(""),[a,c]=m.useState(""),[d,p]=m.useState(!1),f=async u=>{u.preventDefault(),c("");const{error:h}=await x.auth.signInWithPassword({email:i,password:s});h?c(h.message):(p(!0),o("/"))};return e.jsxs(e.Fragment,{children:[e.jsx(g,{currentSession:n,logout:r}),e.jsxs("div",{className:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8 fade-in",children:[e.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:e.jsx("h2",{className:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900",children:"Sign In"})}),e.jsxs("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm",children:[e.jsxs("form",{onSubmit:f,method:"POST",className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-gray-900",children:"Email Address"}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{id:"email",name:"email",type:"email",required:!0,onChange:u=>t(u.target.value),className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium leading-6 text-gray-900",children:"Password"})}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{id:"password",name:"password",type:"password",required:!0,onChange:u=>l(u.target.value),className:"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",className:"flex w-full justify-center rounded-md bg-cornell px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-cornell_light focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"Sign in"})})]}),e.jsxs("div",{className:"place-content-center",children:[a&&e.jsx("p",{className:"my-2 text-center font-medium",style:{color:"red"},children:a}),d&&e.jsx("p",{className:"align-middle text-l text-midblue font-medium text-center my-2",children:"Login successful!"})]})]})]})]})}function I({currentSession:n,logout:r}){if(!n)return e.jsxs("div",{children:[e.jsx(g,{currentSession:n,logout:r}),e.jsx("div",{className:"flex justify-center fade-in",children:e.jsx("h1",{className:"text-xl text-red-600 font-bold",children:"You are not authenticated!"})})]});const o=w(),[i,t]=m.useState({date:!1,md:!1}),[s,l]=m.useState(""),[a,c]=m.useState("");console.log(s),console.log(a);const d=async p=>{if(p.preventDefault(),a||t(j=>({...j,date:!0})),s||(t(j=>({...j,md:!0})),console.log(i)),!a||!s)return;const f={markdown:s,date:a},{data:u,error:h}=await x.from("release_notes").insert([f]);h?(console.error("Error inserting release note:",h.message),t(!0)):o("/")};return e.jsxs(e.Fragment,{children:[e.jsx(g,{currentSession:n,logout:r}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"flex items-center justify-center fade-in flex-col w-2/3 gap-4",children:[e.jsx("h1",{className:"text-2xl font-medium pb-2",children:"Upload Release Notes"}),e.jsxs("div",{className:"w-1/4 self-start",children:[e.jsx("label",{children:"Select Date"}),e.jsx("div",{className:"flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-indigo-600 sm:max-w-[100%]"+(i.date&&!a&&" bg-red-50"),children:e.jsx("input",{id:"date",name:"date",type:"date",placeholder:"Enter date",onChange:p=>c(p.target.value),className:"w-1/2 block flex-1 border-0 bg-transparent py-1.5 pl-1 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6"})})]}),e.jsxs("div",{className:"w-full custom-editor-container",children:[e.jsx(y,{value:s,onChange:l,className:i.md&&!s&&" bg-red-50"}),e.jsx(y.Markdown,{source:s,style:{whiteSpace:"pre-wrap"}})]}),e.jsx("button",{type:"button",class:"self-end rounded-md bg-cornell px-2.5 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-cornell_light focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",onClick:d,children:"Upload"})]})})]})}function U(){const[n,r]=m.useState(null),[o,i]=m.useState(!0),[t,s]=m.useState(),l=async()=>{try{const{data:c,error:d}=await x.from("release_notes").select("*").order("date",{ascending:!1});d?console.error("Error feching patch notes: ",d):s(c)}catch(c){console.error("Error fetching patch notes: ",c)}finally{i(!1)}};m.useEffect(()=>{const c=async()=>{i(!0);const{data:{session:p}}=await x.auth.getSession();r(p),i(!1)},{data:d}=x.auth.onAuthStateChange((p,f)=>{r(f)});return c(),()=>{d.subscription.unsubscribe()}},[]),m.useEffect(()=>{l()},[]),console.log("release data:",t);const a=async()=>{const{error:c}=await x.auth.signOut();c?console.error("Error logging out:",c.message):r(null)};return e.jsx(e.Fragment,{children:e.jsx(S,{children:e.jsxs(k,{children:[e.jsx(v,{index:!0,element:e.jsx(_,{currentSession:n,logout:a,releaseData:t})}),e.jsx(v,{path:"/authentication",element:e.jsx(O,{currentSession:n,logout:a})}),e.jsx(v,{path:"/update",element:e.jsx(I,{currentSession:n,logout:a})})]})})})}b(document.getElementById("root")).render(e.jsx(m.StrictMode,{children:e.jsx(U,{})}));
